## 👥 Team Members

| [<img src="https://avatars.githubusercontent.com/yeeun-yenny" width="70" style="border-radius:50%;">](https://github.com/yeeun-yenny) | [<img src="https://avatars.githubusercontent.com/SHINHYEONGUK" width="70" style="border-radius:50%;">](https://github.com/SHINHYEONGUK) | [<img src="https://avatars.githubusercontent.com/ehgus8" width="70" style="border-radius:50%;">](https://github.com/ehgus8) | [<img src="https://avatars.githubusercontent.com/Petrushhka" width="70" style="border-radius:50%;">](https://github.com/Petrushhka) |
| :---------------------------------------------------------------------------------------------------------------------------------: | :-----------------------------------------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------------------------------------------: |
|                                               [김예은](https://github.com/yeeun-yenny)                                               |                                              [신현국](https://github.com/SHINHYEONGUK)                                              |                                             [이도현](https://github.com/ehgus8)                                             |                                              [윤하준](https://github.com/Petrushhka)                                               |

---

## ✅ 1. 기획서

### 1.1 프로젝트 개요

본 프로젝트는 사용자들이 맛집에 대한 리뷰를 작성하고, 다른 사람들의 리뷰를 열람할 수 있는 맛집 리뷰 시스템입니다. Spring 기반의 MSA 구조를 적용하여 확장성과 유지보수성을 고려하였습니다.

### 1.2 목표 및 범위

- **목표:** 사용자들이 맛집에 대한 신뢰성 있는 정보를 공유하고, 다양한 기준으로 맛집을 탐색할 수 있도록 함

- **범위:**

  - 포함: 사용자 회원가입/로그인, 맛집 등록/검색/조회/수정/삭제, 리뷰 작성/열람/수정/삭제, 평점 시스템, 포인트, 뱃지 시스템

  - 제외: 예약 기능, 배달 서비스, 실시간 채팅

### 1.3 타겟 사용자

- 일반 사용자 (음식을 좋아하는 개인)

- 지역 기반 맛집을 찾는 외식 소비자

- 리뷰 마케팅을 원하는 소상공인 (향후 관리자 서비스 확장 가능)

### 1.4 주요 기능 목록

- 사용자 등록/로그인 (JWT 인증)

- 맛집 등록/검색/조회/수정/삭제

- 키워드 및 지역 기반 맛집 검색

- 리뷰 작성/수정/삭제

- 별점 기반 평균 평점 계산

- 포인트, 뱃지 시스템

### 1.5 기술 스택

- **Backend**: Spring Boot, Spring Cloud, Spring Security, JPA

- **Frontend**: React, Axios

- **Database**: MySQL

- **Infrastructure**: AWS EC2, S3

### 1.6 마이크로서비스 구조

- Config 서버

- 사용자 서비스

- 맛집(가게) 서비스

- 리뷰 서비스

- 포인트(뱃지) 서비스

- API 게이트웨이

- Eureka 서버

# DevOps 도입 기획서

## 1. DevOps 도입 근거 및 목표

### 도입 근거
- 기존 단일 서버 EC2 기반 운영에서 **확장성**, **배포 자동화**, **환경 일관성** 확보에 한계
- 서비스 장애/배포 시 전체 서비스 중단 리스크 → **무중단 배포**, **빠른 롤백**, **신속한 피드백** 필요
- 코드 변경 시마다 **수동 빌드/배포**, **환경별 설정 관리 번거로움** 등으로 운영 효율성 저하

### 목표
- **MSA 구조의 강점(독립 배포, 확장성)**을 최대한 살릴 수 있는 DevOps 환경 구축
- **컨테이너화(Docker)**로 서비스별 배포 단위 표준화
- **GitHub Actions 기반 CI/CD 파이프라인** 도입으로 빌드-테스트-배포 자동화
- 코드 변경 시 **신속하고 일관된 서비스 반영** 및 **빠른 문제 발견/대응**

---

## 2. DevOps 도구 선택 및 적용 계획

### 2.1 도구 선택 근거

- **Docker**
  - 환경별(개발/운영) 차이 없이 **동일한 실행 환경 제공**
  - 이미지 단위 배포로 **신속한 롤백, 복구 용이**
  - 마이크로서비스 **개별 배포/확장에 최적화**
- **GitHub Actions**
  - 코드 저장소와 자연스럽게 연동되는 **클라우드 CI/CD 플랫폼**
  - 별도 서버/인프라 구축 없이 **워크플로우 관리**, PR 기반 자동 빌드·테스트·배포
  - **오픈소스**, 문서 풍부, **실시간 피드백 제공**

### 2.2 적용 상세 계획

- **CI/CD 파이프라인 설계**
  1. 코드 Push/PR 발생
  2. 유닛/통합 테스트
  3. Docker 이미지 빌드 & 레지스트리(ECR 등) Push
  4. EC2 서버로 자동 배포 (SSH/스크립트 활용)
- **환경별(개발/운영) 분리 배포를 위한 GitHub Actions 워크플로우 분리**
- **서비스별 컨테이너화**
  - 사용자, 맛집, 리뷰, 포인트, 게이트웨이 등 각 서비스별 개별 Dockerfile 작성
  - docker-compose로 서비스/DB/Redis 등 통합 실행 가능하게 정의
- **환경설정 및 시크릿 관리**
  - .env 파일, GitHub Secrets 활용
  - DB/Redis 인증정보, API 키 등은 코드에 노출하지 않고 관리
- **운영 자동화**
  - EC2 인스턴스 내에서 각 서비스별 Docker Compose로 신속한 배포

---

## 3. 배포 및 운영 전략

- **컨테이너 기반 배포**
  - 서비스 간 통신은 네트워크 브리지 및 내부 DNS로 구성
- **배포 자동화**
  - GitHub Actions 기반, main/master 브랜치에 merge 시 자동으로 Docker 이미지 빌드 → 서버 배포
  - 배포 전/후 health check 스크립트 추가(배포 중 오류 감지 시 알림 및 중단)
- **모니터링 및 로깅**
  - 서비스/애플리케이션 로그는 컨테이너 표준 출력으로 통합 관리(CloudWatch, S3 등 연동 가능)
  - 기본적인 헬스체크 및 경고 알림(슬랙, 이메일 등) 연동 계획

---

## 4. 기대 효과 및 성과 지표

### 기대 효과
- **배포 자동화** → 코드 변경 후 서비스 반영까지 시간 단축(개발/운영 효율성↑)
- 장애/오류 발생 시 **신속한 롤백 및 복구**, 서비스 신뢰성↑
- **일관된 환경/설정**으로 테스트-운영 환경 간 이슈 최소화
- **반복 작업 감소 및 개발자 생산성 향상**

### 성과 지표
- **배포 소요 시간(평균)**, **실패율**, **장애 발생 시 복구 시간(MTTR)**
- **주요 기능 배포 후 장애/버그 발생률**
- **코드 PR→서비스 적용까지 걸리는 리드타임**


## 2. 산출물
https://first-viburnum-d12.notion.site/MSA-3-1e58b55c686780978227faec24417dd6

## 3. 프론트 배포
http://reviewing-service2400.s3-website.ap-northeast-2.amazonaws.com/

## 4. MSA 아키텍처 설계도
### 전체 시스템 아키텍처
![diagram1](/images/diagram1.png)

### CI/CD 파이프라인 아키텍처
![diagram2](/images/diagram2.png)
